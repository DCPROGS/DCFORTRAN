	subroutine valve(ivalve,mask,state)

	select case(ivalve)
		case(1)
			e=0
			a0=1
			a1=0
			a2=0
			a3=0

		case(2)
			e=0
			a0=0
			a1=1
			a2=0
			a3=0
		case(3)
			e=0
			a0=1
			a1=1
			a2=0
			a3=0
		case(4)
			e=
			a0=
			a1=
			a2=
			a3=
		case(5)
			e=
			a0=
			a1=
			a2=
			a3=
		case(6)
			e=
			a0=
			a1=
			a2=
			a3=
		case(7)
			e=
			a0=
			a1=
			a2=
			a3=
		case(8)
			e=
			a0=
			a1=
			a2=
			a3=
		case(9)
			e=
			a0=
			a1=
			a2=
			a3=
		case(10)
			e=
			a0=
			a1=
			a2=
			a3=
		case(11)
			e=
			a0=
			a1=
			a2=
			a3=
		case(12)
			e=
			a0=
			a1=
			a2=
			a3=
		case(13)
			e=
			a0=
			a1=
			a2=
			a3=
		case(14)
			e=
			a0=
			a1=
			a2=
			a3=
		case(15)
			e=
			a0=
			a1=
			a2=
			a3=
		case(16)
			e=
			a0=
			a1=
			a2=
			a3=
		case(17)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(18)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(19)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(20)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(21)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(22)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(23)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(24)
			e=1
			a0=
			a1=
			a2=
			a3=
		case(25)
			e=1
			a0=
			a1=
			a2=
			a3=
	end select
	mask=2exp0+2exp1+2exp2+2exp3+2exp4
	state=a0*2exp0+a1*2exp1+a2*2exp2+a3*2exp3+e*2exp4
